#!/bin/bash -x 
echo "welcome"

declare -a  boardOfGame
function resetingBoard()
{
	
 	for (( position=1 ; position<=9 ; position++ ))
	do
	boardOfGame[$position]=$position;
        
	done
	displayBoard

     assignedSymbol

}

function assignedSymbol() 
{
	
	read -p "take lettrer (x or 0) for playing:" playerLetter 
	if [ $playerLetter == x ] || [ $playerLetter == X ]
	then 
	computerLetter="0"	
	else
	computerLetter="X"
	fi
      echo "player get:"$playerLetter
	}
 	
	 

function tossWinner() 
{	

	tossCheck=$((RANDOM%2))
	if [ $tossCheck -eq 1 ]
	then 
	tossCheck=$playerLetter
	else
	tossCheck=$computerLetter
	fi
        
        if [ $tossCheck == $playerLetter ]
        then
	read -p "enter the cell position" cellPosition
	boardOfGame[$cellPosition]=$playerLetter
	displayBoard 
	winAtRowsPosition $playerLetter $computerLetter

	fi
}



function displayBoard()
{	
	i=0
	for (( counter=1 ; counter<=3 ; counter++ ))
	do
	echo "  |---|---|---| "
	echo "  | "${boardOfGame[$((counter+i))]}" | "${boardOfGame[$((counter+i+1))]}" | "${boardOfGame[$((counter+i+2))]}" |"
	echo "  |---|---|---|"
        i=$(($i+2))
	done
	
}

function winAtRowsPosition() 
{
	
	i=0
	letter=$1
	
	while [[ $i == 9 ]]
	do
	for((count=1; count<=3 ; count++ ))
	do
	i=$(($i+1))
	if [[ ${boardOfGame[$i]} -eq ${boardOfGame[$i +1]} ]] && [[ ${boardOfGame[$i]} -eq ${boardOfGame[$i + 2]} ]] && [[ ${boardOfGame[$i +2]} -eq $letter ]]
	then
	echo "player win!!"
	
        break
	fi
	i=$(($i+2))
	done
	done
}

resetingBoard
tossWinner
winAtRowsPosition

